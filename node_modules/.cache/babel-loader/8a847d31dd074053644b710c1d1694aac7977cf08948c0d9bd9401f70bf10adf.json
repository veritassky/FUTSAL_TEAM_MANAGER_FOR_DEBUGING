{"ast":null,"code":"import _objectSpread from\"C:/Users/lakin/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/Futsal_Team/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{Timer,Play,Pause,RotateCcw,Plus,Trash2,List}from'lucide-react';// --- 상수 설정 (변경 없음) ---\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const KEEPER_ROTATION_SCHEDULE=[[1,2],[3,9],[7,8],[4,5],[7,9],[6,8],[3,5],[1,4]];const KEEPER_CHANGE_INTERVAL_SEC=6;const GAME_DURATION_SEC=12;const ALARM_SOUND_URL='https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3';// --- 컴포넌트 시작 ---\nconst FutsalTeamManagerDebug=()=>{// --- 상태 관리 (currentView에 'history' 추가) ---\nconst[currentView,setCurrentView]=useState('players');// 'players', 'teams', 'game', 'rotation', 'history'\nconst[players,setPlayers]=useState([]);const[teams,setTeams]=useState({teamA:[],teamB:[]});const[benchPlayers,setBenchPlayers]=useState({teamA:[],teamB:[]});const[timerCount,setTimerCount]=useState(0);const[isTimerRunning,setIsTimerRunning]=useState(false);const[isKeeperChangeTime,setIsKeeperChangeTime]=useState(false);const[currentHalf,setCurrentHalf]=useState(1);const[totalGameTime,setTotalGameTime]=useState(0);const[keeperRotation,setKeeperRotation]=useState({teamA:1,teamB:1});const[currentGame,setCurrentGame]=useState(1);const[playerStats,setPlayerStats]=useState({});const[score,setScore]=useState({teamA:0,teamB:0});const[gameHistory,setGameHistory]=useState([]);// ✅ 경기 기록 리스트 상태\nconst[newPlayer,setNewPlayer]=useState({name:'',level:1,team:'yellow'});const[debugLog,setDebugLog]=useState('디버깅 모드');// ✅ 오디오 객체를 제어하기 위한 Ref 추가 (✅ 추가)\nconst audioRef=useRef(null);const stopAlarm=()=>{if(audioRef.current){audioRef.current.pause();audioRef.current.currentTime=0;audioRef.current=null;}};// --- 오디오, 타이머, 상태 업데이트 로직 (이전 코드와 동일) ---\nconst playAlarm=()=>{try{stopAlarm();// 이전 소리가 있다면 먼저 정지 (✅ 추가)\nconst audio=new Audio(ALARM_SOUND_URL);audio.volume=0.5;audio.play().catch(e=>console.error(\"Audio playback failed:\",e));audioRef.current=audio;}catch(e){console.error(\"Audio object creation failed:\",e);}};const triggerNotification=message=>{if(Notification.permission==='granted'){new Notification(\"풋살팀 매니저 알림\",{body:message});}setDebugLog(message);playAlarm();};useEffect(()=>{if(Notification.permission==='default'){Notification.requestPermission();}},[]);useEffect(()=>{if(!isTimerRunning||isKeeperChangeTime)return;const timer=setTimeout(()=>{setTimerCount(prev=>prev+1);setTotalGameTime(prev=>{const nextTotal=prev+1;setDebugLog(\"\\uCD1D \".concat(formatTime(nextTotal),\" \\uC9C4\\uD589\\uC911\"));if(nextTotal%KEEPER_CHANGE_INTERVAL_SEC===0){setIsTimerRunning(false);setIsKeeperChangeTime(true);if(nextTotal>=GAME_DURATION_SEC){triggerNotification(\"\\uD83D\\uDD14 \\uACBD\\uAE30 \".concat(currentGame,\" \\uC885\\uB8CC! \\uCD5C\\uC885 \\uC2A4\\uCF54\\uC5B4 \").concat(score.teamA,\":\").concat(score.teamB));}else{triggerNotification(\"\\uD83D\\uDD14 \".concat(KEEPER_CHANGE_INTERVAL_SEC/60,\"\\uBD84 \\uACBD\\uACFC! \\uD0A4\\uD37C \\uAD50\\uCCB4 \\uC2DC\\uAC04!\"));}}return nextTotal;});},1000);return()=>clearTimeout(timer);},[timerCount,isTimerRunning,isKeeperChangeTime,totalGameTime,currentGame,score.teamA,score.teamB]);const formatTime=seconds=>{const mins=Math.floor(seconds/60);const secs=seconds%60;return\"\".concat(mins,\":\").concat(secs.toString().padStart(2,'0'));};const updateScore=(team,amount)=>{setScore(prev=>_objectSpread(_objectSpread({},prev),{},{[team]:Math.max(0,prev[team]+amount)}));};// ... (선수 추가/삭제, 팀 밸런스, 경기 시작/종료 로직은 동일) ...\nconst addPlayer=()=>{if(newPlayer.name.trim()){const newId=Math.max(...players.map(p=>p.id),0)+1;const player=_objectSpread(_objectSpread({},newPlayer),{},{id:newId});setPlayers([...players,player]);setPlayerStats(prev=>_objectSpread(_objectSpread({},prev),{},{[newId]:{fieldTime:0,keeperTime:0,totalGames:0}}));setNewPlayer({name:'',level:1,team:'yellow'});}};const deletePlayer=id=>{setPlayers(players.filter(p=>p.id!==id));};const generateBalancedTeams=()=>{if(players.length<18){alert('18명 필요 (옐로9 + 블루9)');return;}const yellowPlayers=players.filter(p=>p.team==='yellow');const bluePlayers=players.filter(p=>p.team==='blue');const sortByPlayTime=list=>{return[...list].sort((a,b)=>{var _playerStats$a$id,_playerStats$a$id2,_playerStats$b$id,_playerStats$b$id2;const aTotal=(((_playerStats$a$id=playerStats[a.id])===null||_playerStats$a$id===void 0?void 0:_playerStats$a$id.fieldTime)||0)+(((_playerStats$a$id2=playerStats[a.id])===null||_playerStats$a$id2===void 0?void 0:_playerStats$a$id2.keeperTime)||0);const bTotal=(((_playerStats$b$id=playerStats[b.id])===null||_playerStats$b$id===void 0?void 0:_playerStats$b$id.fieldTime)||0)+(((_playerStats$b$id2=playerStats[b.id])===null||_playerStats$b$id2===void 0?void 0:_playerStats$b$id2.keeperTime)||0);return aTotal-bTotal;});};const sortedYellow=sortByPlayTime(yellowPlayers);const sortedBlue=sortByPlayTime(bluePlayers);setTeams({teamA:sortedYellow.slice(0,6),teamB:sortedBlue.slice(0,6)});setBenchPlayers({teamA:sortedYellow.slice(6,9),teamB:sortedBlue.slice(6,9)});setCurrentView('teams');};const startGame=()=>{if(currentGame>KEEPER_ROTATION_SCHEDULE.length)return;setCurrentView('game');setTimerCount(0);setTotalGameTime(0);setCurrentHalf(1);setScore({teamA:0,teamB:0});const gameIndex=(currentGame-1)%KEEPER_ROTATION_SCHEDULE.length;const keepers=KEEPER_ROTATION_SCHEDULE[gameIndex];const scheduleGame=gameIndex%8+1;setKeeperRotation({teamA:keepers[0],teamB:keepers[0]});setIsKeeperChangeTime(false);setIsTimerRunning(true);setDebugLog(\"\\uACBD\\uAE30 \".concat(currentGame,\" (\\uC21C\\uC11C\\uD45C \").concat(scheduleGame,\"\\uACBD\\uAE30): \\uC591\\uD300 \").concat(keepers[0],\"\\u2192\").concat(keepers[1],\"\\uBC88 \\uD0A4\\uD37C\"));const newStats=_objectSpread({},playerStats);[...teams.teamA,...teams.teamB].forEach(player=>{newStats[player.id].totalGames+=1;});setPlayerStats(newStats);};const completeKeeperChange=()=>{stopAlarm();// ✅ 알람 즉시 정지\nconst newStats=_objectSpread({},playerStats);const intervalMin=KEEPER_CHANGE_INTERVAL_SEC/60;const keeperA=teams.teamA[keeperRotation.teamA-1];const keeperB=teams.teamB[keeperRotation.teamB-1];if(keeperA)newStats[keeperA.id].keeperTime+=intervalMin;if(keeperB)newStats[keeperB.id].keeperTime+=intervalMin;teams.teamA.forEach((player,idx)=>{if(idx+1!==keeperRotation.teamA)newStats[player.id].fieldTime+=intervalMin;});teams.teamB.forEach((player,idx)=>{if(idx+1!==keeperRotation.teamB)newStats[player.id].fieldTime+=intervalMin;});setPlayerStats(newStats);const gameIndex=(currentGame-1)%KEEPER_ROTATION_SCHEDULE.length;const keepers=KEEPER_ROTATION_SCHEDULE[gameIndex];if(totalGameTime<GAME_DURATION_SEC){setKeeperRotation({teamA:keepers[1],teamB:keepers[1]});setCurrentHalf(2);setIsKeeperChangeTime(false);setIsTimerRunning(true);setDebugLog(\"\\uD0A4\\uD37C \\uAD50\\uCCB4 \\uC644\\uB8CC: \\uC591\\uD300 \".concat(keepers[1],\"\\uBC88, \\uD6C4\\uBC18 \\uC2DC\\uC791\"));}else{endGame(true);}};const endGame=function(){let completed=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;stopAlarm();// ✅ 알람 즉시 정지\nsetIsTimerRunning(false);setIsKeeperChangeTime(false);const newStats=_objectSpread({},playerStats);const intervalSec=KEEPER_CHANGE_INTERVAL_SEC;const remaining=timerCount%intervalSec;if(remaining>0){const remainingMin=remaining/60;const keeperA=teams.teamA[keeperRotation.teamA-1];const keeperB=teams.teamB[keeperRotation.teamB-1];if(keeperA)newStats[keeperA.id].keeperTime+=remainingMin;if(keeperB)newStats[keeperB.id].keeperTime+=remainingMin;teams.teamA.forEach((p,idx)=>{if(idx+1!==keeperRotation.teamA)newStats[p.id].fieldTime+=remainingMin;});teams.teamB.forEach((p,idx)=>{if(idx+1!==keeperRotation.teamB)newStats[p.id].fieldTime+=remainingMin;});}setPlayerStats(newStats);// ✅ 경기 종료 시, 경기 기록(gameHistory)에 현재 경기 결과 추가\nsetGameHistory(prev=>[...prev,{game:currentGame,scoreA:score.teamA,scoreB:score.teamB,winner:score.teamA>score.teamB?'옐로 승':score.teamB>score.teamA?'블루 승':'무승부'}]);const finalLog=\"\\uACBD\\uAE30 \".concat(currentGame,\" \\uC885\\uB8CC! \\uCD5C\\uC885 \\uC2A4\\uCF54\\uC5B4: \").concat(score.teamA,\" \\uB300 \").concat(score.teamB);setDebugLog(finalLog);setCurrentGame(prev=>prev+1);setCurrentView('rotation');// ✅ 모든 경기가 끝나면 alert 대신 'history' 뷰로 자동 이동\nif(currentGame>=KEEPER_ROTATION_SCHEDULE.length){// alert(\"모든 경기 일정이 완료되었습니다! 팀 교체 대신 최종 통계를 확인하세요.\");\nsetCurrentView('history');}};const suggestSubstitutions=()=>{const getWithTime=list=>{return list.map(p=>{var _playerStats$p$id,_playerStats$p$id2;return _objectSpread(_objectSpread({},p),{},{totalTime:(((_playerStats$p$id=playerStats[p.id])===null||_playerStats$p$id===void 0?void 0:_playerStats$p$id.fieldTime)||0)+(((_playerStats$p$id2=playerStats[p.id])===null||_playerStats$p$id2===void 0?void 0:_playerStats$p$id2.keeperTime)||0)});});};const teamATime=getWithTime(teams.teamA).sort((a,b)=>b.totalTime-a.totalTime);const teamBTime=getWithTime(teams.teamB).sort((a,b)=>b.totalTime-a.totalTime);const benchATime=getWithTime(benchPlayers.teamA).sort((a,b)=>a.totalTime-b.totalTime);const benchBTime=getWithTime(benchPlayers.teamB).sort((a,b)=>a.totalTime-b.totalTime);return{teamA:{out:teamATime.slice(0,3),in:benchATime.slice(0,3)},teamB:{out:teamBTime.slice(0,3),in:benchBTime.slice(0,3)}};};const applySubstitutions=()=>{const subs=suggestSubstitutions();const newTeamA=[...teams.teamA.filter(p=>!subs.teamA.out.some(out=>out.id===p.id)),...subs.teamA.in];const newTeamB=[...teams.teamB.filter(p=>!subs.teamB.out.some(out=>out.id===p.id)),...subs.teamB.in];const newBenchA=[...benchPlayers.teamA.filter(p=>!subs.teamA.in.some(inP=>inP.id===p.id)),...subs.teamA.out];const newBenchB=[...benchPlayers.teamB.filter(p=>!subs.teamB.in.some(inP=>inP.id===p.id)),...subs.teamB.out];setTeams({teamA:newTeamA,teamB:newTeamB});setBenchPlayers({teamA:newBenchA,teamB:newBenchB});setCurrentView('teams');};const resetAllData=()=>{if(window.confirm(\"모든 선수 데이터, 팀 구성, 경기 기록을 초기화하시겠습니까? 이 작업은 되돌릴 수 없습니다.\")){setPlayers([]);setTeams({teamA:[],teamB:[]});setBenchPlayers({teamA:[],teamB:[]});setTimerCount(0);setIsTimerRunning(false);setIsKeeperChangeTime(false);setCurrentHalf(1);setTotalGameTime(0);setKeeperRotation({teamA:1,teamB:1});setCurrentGame(1);setPlayerStats({});setScore({teamA:0,teamB:0});setGameHistory([]);// ✅ 경기 기록도 초기화\nsetDebugLog('모든 데이터 초기화 완료');setCurrentView('players');}};// --- 렌더링 ---\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-red-400 via-orange-500 to-yellow-600 mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-2xl overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-r from-red-600 to-orange-600 text-white p-6\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold text-center flex items-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(Timer,{className:\"w-8 h-8\"}),\"\\uD48B\\uC0B4\\uD300 \\uB9E4\\uB2C8\\uC800 (\",KEEPER_CHANGE_INTERVAL_SEC,\"\\uCD08 \\uB514\\uBC84\\uADF8)\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center mt-4 space-x-2\",children:['players','teams','game','rotation','history'].map(view=>/*#__PURE__*/// ✅ 'history' 탭 추가\n_jsxs(\"button\",{onClick:()=>setCurrentView(view),className:\"px-4 py-2 rounded-lg font-medium \".concat(currentView===view?'bg-white text-red-600':'bg-red-500 text-white'),children:[view==='players'&&'선수 관리',view==='teams'&&'팀 편성',view==='game'&&'경기 진행',view==='rotation'&&'팀 교체',view==='history'&&'경기 기록',\" \"]},view))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[currentView==='players'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6\",children:\"\\uC120\\uC218 \\uAD00\\uB9AC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 p-4 rounded-lg mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uC774\\uB984\",value:newPlayer.name,onChange:e=>setNewPlayer(_objectSpread(_objectSpread({},newPlayer),{},{name:e.target.value})),className:\"flex-1 px-3 py-2 border rounded-lg\"}),/*#__PURE__*/_jsxs(\"select\",{value:newPlayer.team,onChange:e=>setNewPlayer(_objectSpread(_objectSpread({},newPlayer),{},{team:e.target.value})),className:\"px-3 py-2 border rounded-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"yellow\",children:\"\\uC610\\uB85C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"blue\",children:\"\\uBE14\\uB8E8\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:newPlayer.level,onChange:e=>setNewPlayer(_objectSpread(_objectSpread({},newPlayer),{},{level:parseInt(e.target.value)})),className:\"px-3 py-2 border rounded-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:1,children:\"Lv1\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"Lv2\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"Lv3\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:addPlayer,className:\"px-4 py-2 bg-orange-500 text-white rounded-lg flex items-center\",children:/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid gap-3 mb-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold mb-3\",children:\"\\uC120\\uC218\\uBCC4 \\uB204\\uC801 \\uAE30\\uB85D\"}),players.map(player=>{var _playerStats$player$i,_playerStats$player$i2;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 bg-white border rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded text-xs font-bold \".concat(player.team==='yellow'?'bg-yellow-200':'bg-blue-200'),children:player.team==='yellow'?'옐로':'블루'}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:player.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[\"(\\uCD1D: \",((((_playerStats$player$i=playerStats[player.id])===null||_playerStats$player$i===void 0?void 0:_playerStats$player$i.fieldTime)||0)+(((_playerStats$player$i2=playerStats[player.id])===null||_playerStats$player$i2===void 0?void 0:_playerStats$player$i2.keeperTime)||0)).toFixed(1),\"\\uBD84)\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deletePlayer(player.id),className:\"text-red-600\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]},player.id);})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:generateBalancedTeams,disabled:players.length<18,className:\"flex-1 px-6 py-3 bg-orange-600 text-white rounded-lg font-medium\",children:[\"\\uD300 \\uAD6C\\uC131 (\",players.length,\"/18)\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:resetAllData,className:\"px-6 py-3 bg-red-600 text-white rounded-lg font-medium\",children:\"\\uC804\\uCCB4 \\uCD08\\uAE30\\uD654\"})]})]}),currentView==='history'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold mb-6 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(List,{className:\"w-6 h-6\"}),\" \\uC804\\uCCB4 \\uACBD\\uAE30 \\uAE30\\uB85D (\",gameHistory.length,\" / \",KEEPER_ROTATION_SCHEDULE.length,\")\"]}),gameHistory.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-10\",children:\"\\uC544\\uC9C1 \\uC644\\uB8CC\\uB41C \\uACBD\\uAE30\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4. \\uACBD\\uAE30\\uB97C \\uC2DC\\uC791\\uD558\\uC138\\uC694.\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-5 gap-2 text-sm bg-gray-100 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-center\",children:\"\\uACBD\\uAE30 #\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold col-span-2 text-center\",children:\"\\uC2A4\\uCF54\\uC5B4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-center\",children:\"\\uC2B9\\uD328\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-center\"}),gameHistory.map((h,idx)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 text-center\",children:h.game}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 text-center font-extrabold text-lg col-span-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-600\",children:h.scoreA}),\" : \",/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-600\",children:h.scoreB})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 font-medium text-center \".concat(h.winner.includes('승')?'text-green-600':'text-gray-500'),children:h.winner}),/*#__PURE__*/_jsx(\"div\",{className:\"p-2 text-center text-xs text-gray-400\",children:idx<8?'정규':'연장'})]},idx))]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:resetAllData,className:\"px-6 py-3 bg-red-600 text-white rounded-lg font-medium\",children:\"\\uC804\\uCCB4 \\uB370\\uC774\\uD130 \\uCD08\\uAE30\\uD654\"})})]}),currentView==='teams'&&teams.teamA.length>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6\",children:\"\\uD300 \\uAD6C\\uC131\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-6 rounded-lg border-2 border-yellow-400\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-yellow-800 mb-4\",children:\"\\uC610\\uB85C\\uD300 (Team A)\"}),teams.teamA.map((p,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 bg-white rounded mb-2\",children:[\"#\",idx+1,\". \",p.name]},p.id)),benchPlayers.teamA.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium mb-2\",children:\"\\uBCA4\\uCE58\"}),benchPlayers.teamA.map(p=>/*#__PURE__*/_jsx(\"div\",{className:\"p-1 bg-gray-100 rounded text-sm mb-1\",children:p.name},p.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-6 rounded-lg border-2 border-blue-400\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-blue-800 mb-4\",children:\"\\uBE14\\uB8E8\\uD300 (Team B)\"}),teams.teamB.map((p,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 bg-white rounded mb-2\",children:[\"#\",idx+1,\". \",p.name]},p.id)),benchPlayers.teamB.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium mb-2\",children:\"\\uBCA4\\uCE58\"}),benchPlayers.teamB.map(p=>/*#__PURE__*/_jsx(\"div\",{className:\"p-1 bg-gray-100 rounded text-sm mb-1\",children:p.name},p.id))]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:startGame,disabled:currentGame>KEEPER_ROTATION_SCHEDULE.length,className:\"px-6 py-3 rounded-lg font-medium \".concat(currentGame>KEEPER_ROTATION_SCHEDULE.length?'bg-gray-400 text-gray-600 cursor-not-allowed':'bg-orange-600 text-white hover:bg-orange-700'),children:[/*#__PURE__*/_jsx(Play,{className:\"w-5 h-5 inline mr-2\"}),currentGame>KEEPER_ROTATION_SCHEDULE.length?'모든 경기 완료!':\"\\uACBD\\uAE30 \".concat(currentGame,\" \\uC2DC\\uC791\")]})})]}),currentView==='game'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold mb-6 text-center\",children:[\"\\uACBD\\uAE30 \",currentGame]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-6 rounded-lg mb-6 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-600 mb-2\",children:debugLog}),/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl font-bold mb-2\",children:formatTime(timerCount)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg text-gray-600\",children:[currentHalf===1?'전반':'후반',\" (\\uCD1D \",formatTime(totalGameTime),\" / \",formatTime(GAME_DURATION_SEC),\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center gap-6 my-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-yellow-800 mb-2\",children:\"\\uC610\\uB85C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl font-extrabold text-yellow-600\",children:score.teamA}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateScore('teamA',1),className:\"px-3 py-1 bg-green-500 text-white rounded-lg text-lg\",children:\"+\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateScore('teamA',-1),className:\"px-3 py-1 bg-red-500 text-white rounded-lg text-lg\",children:\"-\"})]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-4xl font-extrabold text-gray-500\",children:\":\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-blue-800 mb-2\",children:\"\\uBE14\\uB8E8\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-6xl font-extrabold text-blue-600\",children:score.teamB}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mt-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateScore('teamB',1),className:\"px-3 py-1 bg-green-500 text-white rounded-lg text-lg\",children:\"+\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateScore('teamB',-1),className:\"px-3 py-1 bg-red-500 text-white rounded-lg text-lg\",children:\"-\"})]})]})]}),isKeeperChangeTime?/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-100 border-2 border-yellow-400 rounded-lg p-4 mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xl font-bold text-yellow-800 mb-2\",children:\"\\uD0A4\\uD37C \\uAD50\\uCCB4!\"}),/*#__PURE__*/_jsx(\"button\",{onClick:stopAlarm,className:\"px-6 py-3 bg-red-500 text-white rounded-lg font-bold mb-4 block mx-auto\",children:\"\\uC18C\\uB9AC \\uB044\\uAE30\"}),/*#__PURE__*/_jsx(\"button\",{onClick:completeKeeperChange,className:\"px-6 py-3 bg-green-500 text-white rounded-lg font-bold\",children:totalGameTime>=GAME_DURATION_SEC?'경기 종료 확정':'교체 완료 및 후반 시작'})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-3 mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsTimerRunning(!isTimerRunning),className:\"px-6 py-2 rounded-lg font-medium \".concat(isTimerRunning?'bg-red-500 text-white':'bg-green-500 text-white'),children:isTimerRunning?/*#__PURE__*/_jsx(Pause,{className:\"w-4 h-4 inline\"}):/*#__PURE__*/_jsx(Play,{className:\"w-4 h-4 inline\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setIsTimerRunning(false);setTimerCount(0);setTotalGameTime(0);setIsKeeperChangeTime(false);setScore({teamA:0,teamB:0});},className:\"px-6 py-2 bg-gray-500 text-white rounded-lg\",children:/*#__PURE__*/_jsx(RotateCcw,{className:\"w-4 h-4 inline\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>endGame(false),className:\"px-6 py-2 bg-red-500 text-white rounded-lg\",children:\"\\uAC15\\uC81C \\uC885\\uB8CC\"})]})]})]}),currentView==='rotation'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-6\",children:\"\\uD300 \\uAD50\\uCCB4 \\uAD00\\uB9AC\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 p-4 rounded-lg mb-6 text-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg font-bold\",children:[\"\\uC9C1\\uC804 \\uACBD\\uAE30 (\",currentGame-1,\") \\uACB0\\uACFC\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-extrabold text-orange-600\",children:[\"\\uC610\\uB85C \",score.teamA,\" : \",score.teamB,\" \\uBE14\\uB8E8\"]})]}),currentGame<=KEEPER_ROTATION_SCHEDULE.length&&(()=>{const subs=suggestSubstitutions();return/*#__PURE__*/_jsxs(\"div\",{className:\"grid md:grid-cols-2 gap-6 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-yellow-800 mb-3\",children:\"\\uC610\\uB85C\\uD300 \\uAD50\\uCCB4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-red-600 mb-2\",children:\"OUT (\\uD734\\uC2DD \\uD544\\uC694)\"}),subs.teamA.out.map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 bg-red-100 rounded mb-1\",children:[p.name,\" (\",p.totalTime.toFixed(1),\"\\uBD84)\"]},p.id))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-green-600 mb-2\",children:\"IN (\\uB300\\uAE30 \\uCD5C\\uC18C)\"}),subs.teamA.in.map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 bg-green-100 rounded mb-1\",children:[p.name,\" (\",p.totalTime.toFixed(1),\"\\uBD84)\"]},p.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-blue-800 mb-3\",children:\"\\uBE14\\uB8E8\\uD300 \\uAD50\\uCCB4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-red-600 mb-2\",children:\"OUT (\\uD734\\uC2DD \\uD544\\uC694)\"}),subs.teamB.out.map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 bg-red-100 rounded mb-1\",children:[p.name,\" (\",p.totalTime.toFixed(1),\"\\uBD84)\"]},p.id))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-green-600 mb-2\",children:\"IN (\\uB300\\uAE30 \\uCD5C\\uC18C)\"}),subs.teamB.in.map(p=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-2 bg-green-100 rounded mb-1\",children:[p.name,\" (\",p.totalTime.toFixed(1),\"\\uBD84)\"]},p.id))]})]})]});})(),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center gap-4\",children:[currentGame<=KEEPER_ROTATION_SCHEDULE.length&&/*#__PURE__*/_jsx(\"button\",{onClick:applySubstitutions,className:\"px-6 py-3 bg-orange-600 text-white rounded-lg font-medium\",children:\"\\uAD50\\uCCB4 \\uC801\\uC6A9 \\uBC0F \\uD300 \\uD655\\uC778\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('teams'),className:\"px-6 py-3 bg-gray-500 text-white rounded-lg font-medium\",children:currentGame<=KEEPER_ROTATION_SCHEDULE.length?'현재 팀 유지':'최종 통계 보기'})]})]})]})]})})});};export default FutsalTeamManagerDebug;","map":{"version":3,"names":["React","useState","useEffect","useRef","Timer","Play","Pause","RotateCcw","Plus","Trash2","List","jsx","_jsx","jsxs","_jsxs","KEEPER_ROTATION_SCHEDULE","KEEPER_CHANGE_INTERVAL_SEC","GAME_DURATION_SEC","ALARM_SOUND_URL","FutsalTeamManagerDebug","currentView","setCurrentView","players","setPlayers","teams","setTeams","teamA","teamB","benchPlayers","setBenchPlayers","timerCount","setTimerCount","isTimerRunning","setIsTimerRunning","isKeeperChangeTime","setIsKeeperChangeTime","currentHalf","setCurrentHalf","totalGameTime","setTotalGameTime","keeperRotation","setKeeperRotation","currentGame","setCurrentGame","playerStats","setPlayerStats","score","setScore","gameHistory","setGameHistory","newPlayer","setNewPlayer","name","level","team","debugLog","setDebugLog","audioRef","stopAlarm","current","pause","currentTime","playAlarm","audio","Audio","volume","play","catch","e","console","error","triggerNotification","message","Notification","permission","body","requestPermission","timer","setTimeout","prev","nextTotal","concat","formatTime","clearTimeout","seconds","mins","Math","floor","secs","toString","padStart","updateScore","amount","_objectSpread","max","addPlayer","trim","newId","map","p","id","player","fieldTime","keeperTime","totalGames","deletePlayer","filter","generateBalancedTeams","length","alert","yellowPlayers","bluePlayers","sortByPlayTime","list","sort","a","b","_playerStats$a$id","_playerStats$a$id2","_playerStats$b$id","_playerStats$b$id2","aTotal","bTotal","sortedYellow","sortedBlue","slice","startGame","gameIndex","keepers","scheduleGame","newStats","forEach","completeKeeperChange","intervalMin","keeperA","keeperB","idx","endGame","completed","arguments","undefined","intervalSec","remaining","remainingMin","game","scoreA","scoreB","winner","finalLog","suggestSubstitutions","getWithTime","_playerStats$p$id","_playerStats$p$id2","totalTime","teamATime","teamBTime","benchATime","benchBTime","out","in","applySubstitutions","subs","newTeamA","some","newTeamB","newBenchA","inP","newBenchB","resetAllData","window","confirm","className","children","view","onClick","type","placeholder","value","onChange","target","parseInt","_playerStats$player$i","_playerStats$player$i2","toFixed","disabled","h","Fragment","includes"],"sources":["C:/Users/lakin/OneDrive/바탕 화면/Futsal_Team/src/futsalteammanagerdebug.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Users, Timer, Play, Pause, RotateCcw, Plus, Trash2, Bell, List } from 'lucide-react';\r\n\r\n// --- 상수 설정 (변경 없음) ---\r\nconst KEEPER_ROTATION_SCHEDULE = [\r\n  [1, 2],\r\n  [3, 9],\r\n  [7, 8],\r\n  [4, 5],\r\n  [7, 9],\r\n  [6, 8],\r\n  [3, 5],\r\n  [1, 4],\r\n];\r\n\r\nconst KEEPER_CHANGE_INTERVAL_SEC = 6;\r\nconst GAME_DURATION_SEC = 12;\r\nconst ALARM_SOUND_URL = 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3';\r\n\r\n\r\n// --- 컴포넌트 시작 ---\r\nconst FutsalTeamManagerDebug = () => {\r\n  \r\n  // --- 상태 관리 (currentView에 'history' 추가) ---\r\n  const [currentView, setCurrentView] = useState('players'); // 'players', 'teams', 'game', 'rotation', 'history'\r\n  const [players, setPlayers] = useState([]);\r\n  const [teams, setTeams] = useState({ teamA: [], teamB: [] });\r\n  const [benchPlayers, setBenchPlayers] = useState({ teamA: [], teamB: [] });\r\n  \r\n  const [timerCount, setTimerCount] = useState(0);\r\n  const [isTimerRunning, setIsTimerRunning] = useState(false);\r\n  const [isKeeperChangeTime, setIsKeeperChangeTime] = useState(false);\r\n  const [currentHalf, setCurrentHalf] = useState(1);\r\n  const [totalGameTime, setTotalGameTime] = useState(0);\r\n  \r\n  const [keeperRotation, setKeeperRotation] = useState({ teamA: 1, teamB: 1 });\r\n  const [currentGame, setCurrentGame] = useState(1);\r\n  const [playerStats, setPlayerStats] = useState({});\r\n  const [score, setScore] = useState({ teamA: 0, teamB: 0 });\r\n  const [gameHistory, setGameHistory] = useState([]); // ✅ 경기 기록 리스트 상태\r\n  \r\n  const [newPlayer, setNewPlayer] = useState({ name: '', level: 1, team: 'yellow' });\r\n  const [debugLog, setDebugLog] = useState('디버깅 모드');\r\n // ✅ 오디오 객체를 제어하기 위한 Ref 추가 (✅ 추가)\r\n  const audioRef = useRef(null); \r\n  const stopAlarm = () => { \r\n    if (audioRef.current) { \r\n      audioRef.current.pause(); \r\n      audioRef.current.currentTime = 0; \r\n      audioRef.current = null; \r\n    } \r\n  }; \r\n\r\n  // --- 오디오, 타이머, 상태 업데이트 로직 (이전 코드와 동일) ---\r\n  const playAlarm = () => {\r\n      try {stopAlarm(); // 이전 소리가 있다면 먼저 정지 (✅ 추가)\r\n          const audio = new Audio(ALARM_SOUND_URL);\r\n          audio.volume = 0.5;\r\n          audio.play().catch(e => console.error(\"Audio playback failed:\", e));\r\n          audioRef.current = audio; \r\n      } catch (e) {\r\n          console.error(\"Audio object creation failed:\", e);\r\n      }\r\n  };\r\n\r\n  const triggerNotification = (message) => {\r\n    if (Notification.permission === 'granted') {\r\n        new Notification(\"풋살팀 매니저 알림\", { body: message });\r\n    }\r\n    setDebugLog(message);\r\n    playAlarm();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Notification.permission === 'default') {\r\n        Notification.requestPermission();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!isTimerRunning || isKeeperChangeTime) return;\r\n    \r\n    const timer = setTimeout(() => {\r\n      setTimerCount(prev => prev + 1);\r\n      setTotalGameTime(prev => {\r\n        const nextTotal = prev + 1;\r\n        setDebugLog(`총 ${formatTime(nextTotal)} 진행중`);\r\n\r\n        if (nextTotal % KEEPER_CHANGE_INTERVAL_SEC === 0) {\r\n          setIsTimerRunning(false);\r\n          setIsKeeperChangeTime(true);\r\n          \r\n          if (nextTotal >= GAME_DURATION_SEC) {\r\n            triggerNotification(`🔔 경기 ${currentGame} 종료! 최종 스코어 ${score.teamA}:${score.teamB}`);\r\n          } else {\r\n            triggerNotification(`🔔 ${KEEPER_CHANGE_INTERVAL_SEC / 60}분 경과! 키퍼 교체 시간!`);\r\n          }\r\n        }\r\n\r\n        return nextTotal;\r\n      });\r\n    }, 1000);\r\n    \r\n    return () => clearTimeout(timer);\r\n  }, [timerCount, isTimerRunning, isKeeperChangeTime, totalGameTime, currentGame, score.teamA, score.teamB]);\r\n\r\n\r\n  const formatTime = (seconds) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const updateScore = (team, amount) => {\r\n    setScore(prev => ({\r\n      ...prev,\r\n      [team]: Math.max(0, prev[team] + amount)\r\n    }));\r\n  };\r\n\r\n  // ... (선수 추가/삭제, 팀 밸런스, 경기 시작/종료 로직은 동일) ...\r\n  const addPlayer = () => {\r\n    if (newPlayer.name.trim()) {\r\n      const newId = Math.max(...players.map(p => p.id), 0) + 1;\r\n      const player = { ...newPlayer, id: newId };\r\n      setPlayers([...players, player]);\r\n      setPlayerStats(prev => ({\r\n        ...prev,\r\n        [newId]: { fieldTime: 0, keeperTime: 0, totalGames: 0 }\r\n      }));\r\n      setNewPlayer({ name: '', level: 1, team: 'yellow' });\r\n    }\r\n  };\r\n\r\n  const deletePlayer = (id) => {\r\n    setPlayers(players.filter(p => p.id !== id));\r\n  };\r\n\r\n  const generateBalancedTeams = () => {\r\n    if (players.length < 18) {\r\n      alert('18명 필요 (옐로9 + 블루9)');\r\n      return;\r\n    }\r\n    const yellowPlayers = players.filter(p => p.team === 'yellow');\r\n    const bluePlayers = players.filter(p => p.team === 'blue');\r\n    const sortByPlayTime = (list) => {\r\n      return [...list].sort((a, b) => {\r\n        const aTotal = (playerStats[a.id]?.fieldTime || 0) + (playerStats[a.id]?.keeperTime || 0);\r\n        const bTotal = (playerStats[b.id]?.fieldTime || 0) + (playerStats[b.id]?.keeperTime || 0);\r\n        return aTotal - bTotal;\r\n      });\r\n    };\r\n    const sortedYellow = sortByPlayTime(yellowPlayers);\r\n    const sortedBlue = sortByPlayTime(bluePlayers);\r\n\r\n    setTeams({ teamA: sortedYellow.slice(0, 6), teamB: sortedBlue.slice(0, 6) });\r\n    setBenchPlayers({ teamA: sortedYellow.slice(6, 9), teamB: sortedBlue.slice(6, 9) });\r\n    setCurrentView('teams');\r\n  };\r\n\r\n  const startGame = () => {\r\n    if (currentGame > KEEPER_ROTATION_SCHEDULE.length) return;\r\n\r\n    setCurrentView('game');\r\n    setTimerCount(0);\r\n    setTotalGameTime(0);\r\n    setCurrentHalf(1);\r\n    setScore({ teamA: 0, teamB: 0 });\r\n    \r\n    const gameIndex = (currentGame - 1) % KEEPER_ROTATION_SCHEDULE.length;\r\n    const keepers = KEEPER_ROTATION_SCHEDULE[gameIndex];\r\n    const scheduleGame = (gameIndex % 8) + 1;\r\n    \r\n    setKeeperRotation({ teamA: keepers[0], teamB: keepers[0] });\r\n    setIsKeeperChangeTime(false);\r\n    setIsTimerRunning(true);\r\n    setDebugLog(`경기 ${currentGame} (순서표 ${scheduleGame}경기): 양팀 ${keepers[0]}→${keepers[1]}번 키퍼`);\r\n    \r\n    const newStats = { ...playerStats };\r\n    [...teams.teamA, ...teams.teamB].forEach(player => {\r\n      newStats[player.id].totalGames += 1;\r\n    });\r\n    setPlayerStats(newStats);\r\n  };\r\n\r\n  const completeKeeperChange = () => {\r\n    stopAlarm(); // ✅ 알람 즉시 정지\r\n    const newStats = { ...playerStats };\r\n    const intervalMin = KEEPER_CHANGE_INTERVAL_SEC / 60;\r\n    \r\n    const keeperA = teams.teamA[keeperRotation.teamA - 1];\r\n    const keeperB = teams.teamB[keeperRotation.teamB - 1];\r\n    \r\n    if (keeperA) newStats[keeperA.id].keeperTime += intervalMin;\r\n    if (keeperB) newStats[keeperB.id].keeperTime += intervalMin;\r\n    \r\n    teams.teamA.forEach((player, idx) => {\r\n      if (idx + 1 !== keeperRotation.teamA) newStats[player.id].fieldTime += intervalMin;\r\n    });\r\n    teams.teamB.forEach((player, idx) => {\r\n      if (idx + 1 !== keeperRotation.teamB) newStats[player.id].fieldTime += intervalMin;\r\n    });\r\n    \r\n    setPlayerStats(newStats);\r\n    \r\n    const gameIndex = (currentGame - 1) % KEEPER_ROTATION_SCHEDULE.length;\r\n    const keepers = KEEPER_ROTATION_SCHEDULE[gameIndex];\r\n    \r\n    if (totalGameTime < GAME_DURATION_SEC) {\r\n      setKeeperRotation({ teamA: keepers[1], teamB: keepers[1] });\r\n      setCurrentHalf(2);\r\n      setIsKeeperChangeTime(false);\r\n      setIsTimerRunning(true);\r\n      setDebugLog(`키퍼 교체 완료: 양팀 ${keepers[1]}번, 후반 시작`);\r\n    } else {\r\n      endGame(true);\r\n    }\r\n  };\r\n\r\n  const endGame = (completed = false) => {\r\n    stopAlarm(); // ✅ 알람 즉시 정지\r\n    setIsTimerRunning(false);\r\n    setIsKeeperChangeTime(false);\r\n    \r\n    const newStats = { ...playerStats };\r\n    const intervalSec = KEEPER_CHANGE_INTERVAL_SEC;\r\n    const remaining = timerCount % intervalSec;\r\n    \r\n    if (remaining > 0) {\r\n      const remainingMin = remaining / 60;\r\n      const keeperA = teams.teamA[keeperRotation.teamA - 1];\r\n      const keeperB = teams.teamB[keeperRotation.teamB - 1];\r\n      \r\n      if (keeperA) newStats[keeperA.id].keeperTime += remainingMin;\r\n      if (keeperB) newStats[keeperB.id].keeperTime += remainingMin;\r\n      \r\n      teams.teamA.forEach((p, idx) => {\r\n        if (idx + 1 !== keeperRotation.teamA) newStats[p.id].fieldTime += remainingMin;\r\n      });\r\n      teams.teamB.forEach((p, idx) => {\r\n        if (idx + 1 !== keeperRotation.teamB) newStats[p.id].fieldTime += remainingMin;\r\n      });\r\n    }\r\n    \r\n    setPlayerStats(newStats);\r\n\r\n    // ✅ 경기 종료 시, 경기 기록(gameHistory)에 현재 경기 결과 추가\r\n    setGameHistory(prev => [...prev, {\r\n        game: currentGame,\r\n        scoreA: score.teamA,\r\n        scoreB: score.teamB,\r\n        winner: score.teamA > score.teamB ? '옐로 승' : score.teamB > score.teamA ? '블루 승' : '무승부'\r\n    }]);\r\n\r\n    const finalLog = `경기 ${currentGame} 종료! 최종 스코어: ${score.teamA} 대 ${score.teamB}`;\r\n    setDebugLog(finalLog);\r\n    setCurrentGame(prev => prev + 1);\r\n    setCurrentView('rotation');\r\n    \r\n    // ✅ 모든 경기가 끝나면 alert 대신 'history' 뷰로 자동 이동\r\n    if (currentGame >= KEEPER_ROTATION_SCHEDULE.length) {\r\n        // alert(\"모든 경기 일정이 완료되었습니다! 팀 교체 대신 최종 통계를 확인하세요.\");\r\n        setCurrentView('history'); \r\n    }\r\n  };\r\n\r\n  const suggestSubstitutions = () => {\r\n    const getWithTime = (list) => {\r\n      return list.map(p => ({\r\n        ...p,\r\n        totalTime: (playerStats[p.id]?.fieldTime || 0) + (playerStats[p.id]?.keeperTime || 0)\r\n      }));\r\n    };\r\n\r\n    const teamATime = getWithTime(teams.teamA).sort((a, b) => b.totalTime - a.totalTime);\r\n    const teamBTime = getWithTime(teams.teamB).sort((a, b) => b.totalTime - a.totalTime);\r\n    const benchATime = getWithTime(benchPlayers.teamA).sort((a, b) => a.totalTime - b.totalTime);\r\n    const benchBTime = getWithTime(benchPlayers.teamB).sort((a, b) => a.totalTime - b.totalTime);\r\n\r\n    return {\r\n      teamA: { out: teamATime.slice(0, 3), in: benchATime.slice(0, 3) },\r\n      teamB: { out: teamBTime.slice(0, 3), in: benchBTime.slice(0, 3) }\r\n    };\r\n  };\r\n\r\n  const applySubstitutions = () => {\r\n    const subs = suggestSubstitutions();\r\n    \r\n    const newTeamA = [\r\n      ...teams.teamA.filter(p => !subs.teamA.out.some(out => out.id === p.id)),\r\n      ...subs.teamA.in\r\n    ];\r\n    const newTeamB = [\r\n      ...teams.teamB.filter(p => !subs.teamB.out.some(out => out.id === p.id)),\r\n      ...subs.teamB.in\r\n    ];\r\n    \r\n    const newBenchA = [\r\n      ...benchPlayers.teamA.filter(p => !subs.teamA.in.some(inP => inP.id === p.id)),\r\n      ...subs.teamA.out\r\n    ];\r\n    const newBenchB = [\r\n      ...benchPlayers.teamB.filter(p => !subs.teamB.in.some(inP => inP.id === p.id)),\r\n      ...subs.teamB.out\r\n    ];\r\n    \r\n    setTeams({ teamA: newTeamA, teamB: newTeamB });\r\n    setBenchPlayers({ teamA: newBenchA, teamB: newBenchB });\r\n    setCurrentView('teams');\r\n  };\r\n\r\n  const resetAllData = () => {\r\n      if (window.confirm(\"모든 선수 데이터, 팀 구성, 경기 기록을 초기화하시겠습니까? 이 작업은 되돌릴 수 없습니다.\")) {\r\n          setPlayers([]);\r\n          setTeams({ teamA: [], teamB: [] });\r\n          setBenchPlayers({ teamA: [], teamB: [] });\r\n          setTimerCount(0);\r\n          setIsTimerRunning(false);\r\n          setIsKeeperChangeTime(false);\r\n          setCurrentHalf(1);\r\n          setTotalGameTime(0);\r\n          setKeeperRotation({ teamA: 1, teamB: 1 });\r\n          setCurrentGame(1);\r\n          setPlayerStats({});\r\n          setScore({ teamA: 0, teamB: 0 });\r\n          setGameHistory([]); // ✅ 경기 기록도 초기화\r\n          setDebugLog('모든 데이터 초기화 완료');\r\n          setCurrentView('players');\r\n      }\r\n  };\r\n\r\n\r\n  // --- 렌더링 ---\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-red-400 via-orange-500 to-yellow-600 mb-4\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        <div className=\"bg-white rounded-xl shadow-2xl overflow-hidden\">\r\n          <div className=\"bg-gradient-to-r from-red-600 to-orange-600 text-white p-6\">\r\n            <h1 className=\"text-3xl font-bold text-center flex items-center justify-center gap-2\">\r\n              <Timer className=\"w-8 h-8\" />\r\n              풋살팀 매니저 ({KEEPER_CHANGE_INTERVAL_SEC}초 디버그)\r\n            </h1>\r\n            <div className=\"flex justify-center mt-4 space-x-2\">\r\n              {['players', 'teams', 'game', 'rotation', 'history'].map((view) => ( // ✅ 'history' 탭 추가\r\n                <button\r\n                  key={view}\r\n                  onClick={() => setCurrentView(view)}\r\n                  className={`px-4 py-2 rounded-lg font-medium ${\r\n                    currentView === view ? 'bg-white text-red-600' : 'bg-red-500 text-white'\r\n                  }`}\r\n                >\r\n                  {view === 'players' && '선수 관리'}\r\n                  {view === 'teams' && '팀 편성'}\r\n                  {view === 'game' && '경기 진행'}\r\n                  {view === 'rotation' && '팀 교체'}\r\n                  {view === 'history' && '경기 기록'} {/* ✅ 'history' 탭 이름 */}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"p-6\">\r\n            \r\n            {/* 선수 관리 뷰 */}\r\n            {currentView === 'players' && (\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold mb-6\">선수 관리</h2>\r\n                \r\n                {/* 선수 추가 섹션 (동일) */}\r\n                <div className=\"bg-gray-50 p-4 rounded-lg mb-6\">\r\n                  <div className=\"flex gap-3\">\r\n                    <input\r\n                      type=\"text\"\r\n                      placeholder=\"이름\"\r\n                      value={newPlayer.name}\r\n                      onChange={(e) => setNewPlayer({...newPlayer, name: e.target.value})}\r\n                      className=\"flex-1 px-3 py-2 border rounded-lg\"\r\n                    />\r\n                    <select\r\n                      value={newPlayer.team}\r\n                      onChange={(e) => setNewPlayer({...newPlayer, team: e.target.value})}\r\n                      className=\"px-3 py-2 border rounded-lg\"\r\n                    >\r\n                      <option value=\"yellow\">옐로</option>\r\n                      <option value=\"blue\">블루</option>\r\n                    </select>\r\n                    <select\r\n                      value={newPlayer.level}\r\n                      onChange={(e) => setNewPlayer({...newPlayer, level: parseInt(e.target.value)})}\r\n                      className=\"px-3 py-2 border rounded-lg\"\r\n                    >\r\n                      <option value={1}>Lv1</option>\r\n                      <option value={2}>Lv2</option>\r\n                      <option value={3}>Lv3</option>\r\n                    </select>\r\n                    <button\r\n                      onClick={addPlayer}\r\n                      className=\"px-4 py-2 bg-orange-500 text-white rounded-lg flex items-center\"\r\n                    >\r\n                      <Plus className=\"w-4 h-4\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* 선수별 누적 기록 (동일) */}\r\n                <div className=\"grid gap-3 mb-6\">\r\n                  <h3 className=\"text-xl font-bold mb-3\">선수별 누적 기록</h3>\r\n                  {players.map(player => (\r\n                    <div key={player.id} className=\"flex items-center justify-between p-4 bg-white border rounded-lg\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <span className={`px-2 py-1 rounded text-xs font-bold ${\r\n                          player.team === 'yellow' ? 'bg-yellow-200' : 'bg-blue-200'\r\n                        }`}>\r\n                          {player.team === 'yellow' ? '옐로' : '블루'}\r\n                        </span>\r\n                        <span className=\"font-medium\">{player.name}</span>\r\n                        <span className=\"text-sm text-gray-500\">\r\n                          (총: {((playerStats[player.id]?.fieldTime || 0) + (playerStats[player.id]?.keeperTime || 0)).toFixed(1)}분)\r\n                        </span>\r\n                      </div>\r\n                      <button onClick={() => deletePlayer(player.id)} className=\"text-red-600\">\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* 하단 버튼: 팀 구성 및 초기화 (동일) */}\r\n                <div className=\"flex justify-between gap-4\">\r\n                  <button\r\n                    onClick={generateBalancedTeams}\r\n                    disabled={players.length < 18}\r\n                    className=\"flex-1 px-6 py-3 bg-orange-600 text-white rounded-lg font-medium\"\r\n                  >\r\n                    팀 구성 ({players.length}/18)\r\n                  </button>\r\n                  <button\r\n                      onClick={resetAllData}\r\n                      className=\"px-6 py-3 bg-red-600 text-white rounded-lg font-medium\"\r\n                  >\r\n                      전체 초기화\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n            \r\n            {/* ✅ 경기 기록 뷰 (새로 분리된 페이지) */}\r\n            {currentView === 'history' && (\r\n                <div>\r\n                    <h2 className=\"text-2xl font-bold mb-6 flex items-center gap-2\">\r\n                        <List className=\"w-6 h-6\"/> 전체 경기 기록 ({gameHistory.length} / {KEEPER_ROTATION_SCHEDULE.length})\r\n                    </h2>\r\n                    {gameHistory.length === 0 ? (\r\n                        <p className=\"text-gray-500 text-center py-10\">아직 완료된 경기가 없습니다. 경기를 시작하세요.</p>\r\n                    ) : (\r\n                        <div className=\"grid grid-cols-5 gap-2 text-sm bg-gray-100 p-4 rounded-lg\">\r\n                            <div className=\"font-bold text-center\">경기 #</div>\r\n                            <div className=\"font-bold col-span-2 text-center\">스코어</div>\r\n                            <div className=\"font-bold text-center\">승패</div>\r\n                            <div className=\"font-bold text-center\"></div>\r\n                            {gameHistory.map((h, idx) => (\r\n                                <React.Fragment key={idx}>\r\n                                    <div className=\"p-2 text-center\">{h.game}</div>\r\n                                    <div className=\"p-2 text-center font-extrabold text-lg col-span-2\">\r\n                                        <span className=\"text-yellow-600\">{h.scoreA}</span> : <span className=\"text-blue-600\">{h.scoreB}</span>\r\n                                    </div>\r\n                                    <div className={`p-2 font-medium text-center ${h.winner.includes('승') ? 'text-green-600' : 'text-gray-500'}`}>{h.winner}</div>\r\n                                    <div className=\"p-2 text-center text-xs text-gray-400\">{idx < 8 ? '정규' : '연장'}</div>\r\n                                </React.Fragment>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                    <div className=\"mt-6 text-center\">\r\n                        <button\r\n                            onClick={resetAllData}\r\n                            className=\"px-6 py-3 bg-red-600 text-white rounded-lg font-medium\"\r\n                        >\r\n                            전체 데이터 초기화\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n            \r\n            {/* 팀 편성 뷰 (동일) */}\r\n            {currentView === 'teams' && teams.teamA.length > 0 && (\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold mb-6\">팀 구성</h2>\r\n                <div className=\"grid md:grid-cols-2 gap-6 mb-6\">\r\n                  <div className=\"bg-yellow-50 p-6 rounded-lg border-2 border-yellow-400\">\r\n                    <h3 className=\"text-xl font-bold text-yellow-800 mb-4\">옐로팀 (Team A)</h3>\r\n                    {teams.teamA.map((p, idx) => (<div key={p.id} className=\"p-2 bg-white rounded mb-2\">#{idx + 1}. {p.name}</div>))}\r\n                    {benchPlayers.teamA.length > 0 && (<div className=\"mt-4\"><div className=\"font-medium mb-2\">벤치</div>{benchPlayers.teamA.map(p => (<div key={p.id} className=\"p-1 bg-gray-100 rounded text-sm mb-1\">{p.name}</div>))}</div>)}\r\n                  </div>\r\n                  <div className=\"bg-blue-50 p-6 rounded-lg border-2 border-blue-400\">\r\n                    <h3 className=\"text-xl font-bold text-blue-800 mb-4\">블루팀 (Team B)</h3>\r\n                    {teams.teamB.map((p, idx) => (<div key={p.id} className=\"p-2 bg-white rounded mb-2\">#{idx + 1}. {p.name}</div>))}\r\n                    {benchPlayers.teamB.length > 0 && (<div className=\"mt-4\"><div className=\"font-medium mb-2\">벤치</div>{benchPlayers.teamB.map(p => (<div key={p.id} className=\"p-1 bg-gray-100 rounded text-sm mb-1\">{p.name}</div>))}</div>)}\r\n                  </div>\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  <button\r\n                    onClick={startGame}\r\n                    disabled={currentGame > KEEPER_ROTATION_SCHEDULE.length}\r\n                    className={`px-6 py-3 rounded-lg font-medium ${\r\n                      currentGame > KEEPER_ROTATION_SCHEDULE.length \r\n                        ? 'bg-gray-400 text-gray-600 cursor-not-allowed' \r\n                        : 'bg-orange-600 text-white hover:bg-orange-700'\r\n                    }`}\r\n                  >\r\n                    <Play className=\"w-5 h-5 inline mr-2\" />\r\n                    {currentGame > KEEPER_ROTATION_SCHEDULE.length ? '모든 경기 완료!' : `경기 ${currentGame} 시작`}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* 경기 진행 뷰 (동일) */}\r\n            {currentView === 'game' && (\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold mb-6 text-center\">경기 {currentGame}</h2>\r\n                <div className=\"bg-gray-50 p-6 rounded-lg mb-6 text-center\">\r\n                  <div className=\"text-sm text-gray-600 mb-2\">{debugLog}</div>\r\n                  <div className=\"text-4xl font-bold mb-2\">{formatTime(timerCount)}</div>\r\n                  <div className=\"text-lg text-gray-600\">\r\n                    {currentHalf === 1 ? '전반' : '후반'} (총 {formatTime(totalGameTime)} / {formatTime(GAME_DURATION_SEC)})\r\n                  </div>\r\n                  \r\n                  {/* 스코어 보드 */}\r\n                  <div className=\"flex justify-center items-center gap-6 my-4\">\r\n                    <div className=\"flex flex-col items-center\">\r\n                      <h3 className=\"text-xl font-bold text-yellow-800 mb-2\">옐로</h3>\r\n                      <div className=\"text-6xl font-extrabold text-yellow-600\">{score.teamA}</div>\r\n                      <div className=\"flex gap-2 mt-2\">\r\n                        <button onClick={() => updateScore('teamA', 1)} className=\"px-3 py-1 bg-green-500 text-white rounded-lg text-lg\">+</button>\r\n                        <button onClick={() => updateScore('teamA', -1)} className=\"px-3 py-1 bg-red-500 text-white rounded-lg text-lg\">-</button>\r\n                      </div>\r\n                    </div>\r\n                    <span className=\"text-4xl font-extrabold text-gray-500\">:</span>\r\n                    <div className=\"flex flex-col items-center\">\r\n                      <h3 className=\"text-xl font-bold text-blue-800 mb-2\">블루</h3>\r\n                      <div className=\"text-6xl font-extrabold text-blue-600\">{score.teamB}</div>\r\n                      <div className=\"flex gap-2 mt-2\">\r\n                        <button onClick={() => updateScore('teamB', 1)} className=\"px-3 py-1 bg-green-500 text-white rounded-lg text-lg\">+</button>\r\n                        <button onClick={() => updateScore('teamB', -1)} className=\"px-3 py-1 bg-red-500 text-white rounded-lg text-lg\">-</button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {isKeeperChangeTime ? (\r\n                    <div className=\"bg-yellow-100 border-2 border-yellow-400 rounded-lg p-4 mt-4\">\r\n                      <div className=\"text-xl font-bold text-yellow-800 mb-2\">키퍼 교체!</div>\r\n                      <button \r\n                        onClick={stopAlarm}\r\n                        className=\"px-6 py-3 bg-red-500 text-white rounded-lg font-bold mb-4 block mx-auto\"\r\n                      >\r\n                        소리 끄기\r\n                      </button>\r\n                      <button\r\n                        onClick={completeKeeperChange}\r\n                        className=\"px-6 py-3 bg-green-500 text-white rounded-lg font-bold\"\r\n                      >\r\n                        {totalGameTime >= GAME_DURATION_SEC ? '경기 종료 확정' : '교체 완료 및 후반 시작'}\r\n                      </button>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"flex justify-center gap-3 mt-4\">\r\n                      <button\r\n                        onClick={() => setIsTimerRunning(!isTimerRunning)}\r\n                        className={`px-6 py-2 rounded-lg font-medium ${\r\n                          isTimerRunning ? 'bg-red-500 text-white' : 'bg-green-500 text-white'\r\n                        }`}\r\n                      >\r\n                        {isTimerRunning ? <Pause className=\"w-4 h-4 inline\" /> : <Play className=\"w-4 h-4 inline\" />}\r\n                      </button>\r\n                      <button\r\n                        onClick={() => {\r\n                          setIsTimerRunning(false);\r\n                          setTimerCount(0);\r\n                          setTotalGameTime(0);\r\n                          setIsKeeperChangeTime(false);\r\n                          setScore({ teamA: 0, teamB: 0 });\r\n                        }}\r\n                        className=\"px-6 py-2 bg-gray-500 text-white rounded-lg\"\r\n                      >\r\n                        <RotateCcw className=\"w-4 h-4 inline\" />\r\n                      </button>\r\n                      <button\r\n                        onClick={() => endGame(false)}\r\n                        className=\"px-6 py-2 bg-red-500 text-white rounded-lg\"\r\n                      >\r\n                        강제 종료\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* 팀 교체 뷰 (동일) */}\r\n            {currentView === 'rotation' && (\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold mb-6\">팀 교체 관리</h2>\r\n                \r\n                <div className=\"bg-gray-100 p-4 rounded-lg mb-6 text-center\">\r\n                  <div className=\"text-lg font-bold\">직전 경기 ({currentGame - 1}) 결과</div>\r\n                  <div className=\"text-2xl font-extrabold text-orange-600\">\r\n                    옐로 {score.teamA} : {score.teamB} 블루\r\n                  </div>\r\n                </div>\r\n\r\n                {currentGame <= KEEPER_ROTATION_SCHEDULE.length && (() => {\r\n                  const subs = suggestSubstitutions();\r\n                  return (\r\n                    <div className=\"grid md:grid-cols-2 gap-6 mb-6\">\r\n                      <div className=\"bg-yellow-50 p-4 rounded-lg\">\r\n                        <h3 className=\"text-lg font-bold text-yellow-800 mb-3\">옐로팀 교체</h3>\r\n                         <div className=\"mb-3\"><div className=\"font-medium text-red-600 mb-2\">OUT (휴식 필요)</div>{subs.teamA.out.map(p => (<div key={p.id} className=\"p-2 bg-red-100 rounded mb-1\">{p.name} ({p.totalTime.toFixed(1)}분)</div>))}</div>\r\n                         <div><div className=\"font-medium text-green-600 mb-2\">IN (대기 최소)</div>{subs.teamA.in.map(p => (<div key={p.id} className=\"p-2 bg-green-100 rounded mb-1\">{p.name} ({p.totalTime.toFixed(1)}분)</div>))}</div>\r\n                      </div>\r\n                      <div className=\"bg-blue-50 p-4 rounded-lg\">\r\n                        <h3 className=\"text-lg font-bold text-blue-800 mb-3\">블루팀 교체</h3>\r\n                        <div className=\"mb-3\"><div className=\"font-medium text-red-600 mb-2\">OUT (휴식 필요)</div>{subs.teamB.out.map(p => (<div key={p.id} className=\"p-2 bg-red-100 rounded mb-1\">{p.name} ({p.totalTime.toFixed(1)}분)</div>))}</div>\r\n                        <div><div className=\"font-medium text-green-600 mb-2\">IN (대기 최소)</div>{subs.teamB.in.map(p => (<div key={p.id} className=\"p-2 bg-green-100 rounded mb-1\">{p.name} ({p.totalTime.toFixed(1)}분)</div>))}</div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })()}\r\n\r\n                <div className=\"flex justify-center gap-4\">\r\n                  {currentGame <= KEEPER_ROTATION_SCHEDULE.length && (\r\n                    <button\r\n                      onClick={applySubstitutions}\r\n                      className=\"px-6 py-3 bg-orange-600 text-white rounded-lg font-medium\"\r\n                    >\r\n                      교체 적용 및 팀 확인\r\n                    </button>\r\n                  )}\r\n                  <button\r\n                    onClick={() => setCurrentView('teams')}\r\n                    className=\"px-6 py-3 bg-gray-500 text-white rounded-lg font-medium\"\r\n                  >\r\n                    {currentGame <= KEEPER_ROTATION_SCHEDULE.length ? '현재 팀 유지' : '최종 통계 보기'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FutsalTeamManagerDebug;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}